<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crispy ‚Äî Record, Transcribe, and Understand</title>
    <meta name="description" content="Free and open source desktop app for audio recording with transcription, noise suppression, and AI chat">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Load latest release info
        function updateReleaseInfo(data) {
            // Update version display
            const versionElements = document.querySelectorAll('.release-version');
            versionElements.forEach(el => {
                el.textContent = data.version || data.tag_name;
            });
            
            // Update download links
            const assets = data.assets || [];
            
            // Find specific assets by file extension/pattern
            // Prefer aarch64 (Apple Silicon) for macOS
            const macosAsset = assets.find(a => a.name.includes('aarch64') && a.name.endsWith('.dmg')) 
                || assets.find(a => a.name.endsWith('.dmg'));
            
            // Prefer amd64 (x64) .deb for Debian/Ubuntu
            const linuxDebAsset = assets.find(a => a.name.includes('amd64') && a.name.endsWith('.deb'))
                || assets.find(a => a.name.endsWith('.deb'));
            
            // Prefer x86_64 rpm for Fedora
            const linuxRpmAsset = assets.find(a => a.name.includes('x86_64') && a.name.endsWith('.rpm'))
                || assets.find(a => a.name.endsWith('.rpm'));
            
            // Prefer x64 setup.exe for Windows
            const windowsX64Asset = assets.find(a => a.name.includes('x64') && a.name.endsWith('-setup.exe'))
                || assets.find(a => a.name.includes('x64') && a.name.endsWith('.msi'))
                || assets.find(a => a.name.includes('x64') && a.name.endsWith('.exe'));

            // Prefer arm64 setup.exe for Windows ARM
            const windowsArmAsset = assets.find(a => a.name.includes('arm64') && a.name.endsWith('-setup.exe'))
                || assets.find(a => a.name.includes('arm64') && a.name.endsWith('.msi'))
                || assets.find(a => a.name.includes('arm64') && a.name.endsWith('.exe'));
            
            // Update macOS link
            if (macosAsset) {
                const macosLink = document.getElementById('download-macos');
                if (macosLink) macosLink.href = macosAsset.browser_download_url;
            }
            
            // Update Debian/Ubuntu link
            if (linuxDebAsset) {
                const linuxDebLink = document.getElementById('download-linux-deb');
                if (linuxDebLink) linuxDebLink.href = linuxDebAsset.browser_download_url;
            }
            
            // Update Fedora link
            if (linuxRpmAsset) {
                const linuxRpmLink = document.getElementById('download-linux-rpm');
                if (linuxRpmLink) linuxRpmLink.href = linuxRpmAsset.browser_download_url;
            }
            
            // Update Windows x64 link
            if (windowsX64Asset) {
                const windowsX64Link = document.getElementById('download-windows-x64');
                if (windowsX64Link) windowsX64Link.href = windowsX64Asset.browser_download_url;
            }

            // Update Windows ARM64 link
            if (windowsArmAsset) {
                const windowsArmLink = document.getElementById('download-windows-arm');
                if (windowsArmLink) windowsArmLink.href = windowsArmAsset.browser_download_url;
            }
        }
        
        async function fetchJson(url) {
            const response = await fetch(url);
            if (!response.ok) {
                throw new Error(`Failed to fetch ${url}: ${response.status}`);
            }
            return response.json();
        }

        globalThis.addEventListener('DOMContentLoaded', async () => {
            try {
                const data = await fetchJson('release-info.json');
                updateReleaseInfo(data);
                return;
            } catch (error) {
                console.warn('release-info.json not available', error);
            }

            try {
                const data = await fetchJson('https://api.github.com/repos/sleep3r/crispy/releases/latest');
                updateReleaseInfo(data);
                return;
            } catch (error) {
                console.warn('GitHub latest release not available', error);
            }

            try {
                const releases = await fetchJson('https://api.github.com/repos/sleep3r/crispy/releases');
                if (Array.isArray(releases) && releases.length > 0) {
                    updateReleaseInfo(releases[0]);
                }
            } catch (error) {
                console.error(error);
            }
        });
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hover-lift {
            transition: transform 0.2s ease;
        }

        .hover-lift:hover {
            transform: translateY(-2px);
        }

        .download-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 140px;
        }

        @media (min-width: 768px) {
            .download-card {
                min-height: 180px;
            }
        }

        .download-card-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
            min-height: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
        }

        @media (min-width: 640px) {
            .download-card-title {
                font-size: 1rem;
            }
        }

        .download-card-subtitle {
            font-size: 0.75rem;
            color: rgba(0, 0, 0, 0.6);
            min-height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (min-width: 640px) {
            .download-card-subtitle {
                font-size: 0.875rem;
                min-height: 2.5rem;
            }
        }

        .download-card-emoji {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        @media (min-width: 640px) {
            .download-card-emoji {
                font-size: 2.5rem;
                margin-bottom: 0.75rem;
            }
        }

        @media (min-width: 768px) {
            .download-card-emoji {
                font-size: 3rem;
                margin-bottom: 0.75rem;
            }
        }
    </style>
</head>
<body class="bg-white text-black antialiased">
    <!-- Header -->
    <header class="border-b border-black/10">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between">
            <img src="logo.png" alt="Crispy" class="h-8 sm:h-10 md:h-12">
            <nav class="flex items-center gap-4 sm:gap-6 md:gap-8">
                <a href="#features" class="text-xs sm:text-sm hover:text-black/70 transition-colors">Features</a>
                <a href="#download" class="text-xs sm:text-sm hover:text-black/70 transition-colors">Download</a>
                <a href="https://github.com/sleep3r/crispy" target="_blank" class="text-xs sm:text-sm hover:text-black/70 transition-colors">GitHub</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="max-w-6xl mx-auto px-4 sm:px-6 py-12 sm:py-16 md:py-24 fade-in">
        <div class="max-w-3xl mx-auto text-center space-y-4 sm:space-y-6">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold tracking-tight leading-tight">
                record, transcribe,<br/>and understand
            </h1>
            <p class="text-base sm:text-lg md:text-xl text-black/60 max-w-2xl mx-auto leading-relaxed px-4 sm:px-0">
                Free and open source desktop app for high-quality audio recording with AI-powered transcription, noise suppression, and intelligent chat
            </p>
            <div class="pt-2 sm:pt-4">
                <a href="#download" class="inline-flex items-center gap-2 px-6 sm:px-8 py-2.5 sm:py-3 bg-black text-white rounded-lg hover:bg-black/80 transition-colors text-sm sm:text-base font-medium hover-lift">
                    Download Crispy
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Screenshot -->
    <section class="max-w-4xl mx-auto px-4 sm:px-6 py-8 sm:py-12 fade-in">
        <div class="rounded-xl sm:rounded-2xl border border-black/10 overflow-hidden shadow-2xl">
            <img src="screenshot.png" alt="Crispy App Interface" class="w-full h-auto">
        </div>
    </section>

    <!-- Features Grid -->
    <section id="features" class="max-w-6xl mx-auto px-4 sm:px-6 py-12 sm:py-16 md:py-24 fade-in">
        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
            <div class="space-y-2 sm:space-y-3">
                <div class="text-2xl sm:text-3xl">üéôÔ∏è</div>
                <h3 class="text-lg sm:text-xl font-semibold">High Quality Recording</h3>
                <p class="text-black/60 text-sm leading-relaxed">
                    Record microphone and application audio simultaneously in 48kHz stereo with real-time mixing
                </p>
            </div>

            <div class="space-y-2 sm:space-y-3">
                <div class="text-2xl sm:text-3xl">üîá</div>
                <h3 class="text-lg sm:text-xl font-semibold">Noise Suppression</h3>
                <p class="text-black/60 text-sm leading-relaxed">
                    Built-in RNNoise-based noise suppression for clean audio processing in any environment
                </p>
            </div>

            <div class="space-y-2 sm:space-y-3">
                <div class="text-2xl sm:text-3xl">‚úçÔ∏è</div>
                <h3 class="text-lg sm:text-xl font-semibold">AI Transcription</h3>
                <p class="text-black/60 text-sm leading-relaxed">
                    Choose from Whisper, Parakeet, or Moonshine models for accurate speech-to-text transcription
                </p>
            </div>

            <div class="space-y-2 sm:space-y-3">
                <div class="text-2xl sm:text-3xl">üí¨</div>
                <h3 class="text-lg sm:text-xl font-semibold">Chat with AI</h3>
                <p class="text-black/60 text-sm leading-relaxed">
                    Ask questions about your transcriptions using OpenAI-compatible LLMs with streaming responses
                </p>
            </div>

            <div class="space-y-2 sm:space-y-3">
                <div class="text-2xl sm:text-3xl">üîí</div>
                <h3 class="text-lg sm:text-xl font-semibold">Private</h3>
                <p class="text-black/60 text-sm leading-relaxed">
                    All transcription happens locally on your machine. Your audio never leaves your computer
                </p>
            </div>

            <div class="space-y-2 sm:space-y-3">
                <div class="text-2xl sm:text-3xl">‚ö°</div>
                <h3 class="text-lg sm:text-xl font-semibold">Fast & Native</h3>
                <p class="text-black/60 text-sm leading-relaxed">
                    Built with Rust and Tauri for native performance and minimal resource usage
                </p>
            </div>

            <div class="space-y-2 sm:space-y-3">
                <div class="text-2xl sm:text-3xl">üé®</div>
                <h3 class="text-lg sm:text-xl font-semibold">Simple & Clean</h3>
                <p class="text-black/60 text-sm leading-relaxed">
                    Minimalist interface focused on your workflow. One-click recording from the system tray
                </p>
            </div>

            <div class="space-y-2 sm:space-y-3">
                <div class="text-2xl sm:text-3xl">üåê</div>
                <h3 class="text-lg sm:text-xl font-semibold">Open Source</h3>
                <p class="text-black/60 text-sm leading-relaxed">
                    MIT licensed. Contribute, extend, and make it yours. Built by the community, for the community
                </p>
            </div>
        </div>
    </section>

    <!-- Download Section -->
    <section id="download" class="max-w-6xl mx-auto px-4 sm:px-6 py-12 sm:py-16 md:py-24 fade-in">
        <div class="max-w-3xl mx-auto text-center space-y-6 sm:space-y-8">
            <h2 class="text-3xl sm:text-4xl font-bold">Download</h2>
            <p class="text-sm sm:text-base text-black/60 px-4 sm:px-0">
                Available for macOS, Debian/Ubuntu, Fedora, and Windows
                <span class="release-version text-xs sm:text-sm font-mono ml-2"></span>
            </p>
            
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 pt-4">
                <a id="download-macos" href="https://github.com/sleep3r/crispy/releases/latest" target="_blank" class="download-card border border-black/10 rounded-lg p-3 sm:p-4 md:p-6 hover:border-black/30 transition-all hover-lift">
                    <div class="download-card-emoji">üçé</div>
                    <div class="download-card-title">macOS</div>
                    <div class="download-card-subtitle">Apple Silicon (M1+)</div>
                </a>

                <a id="download-linux-deb" href="https://github.com/sleep3r/crispy/releases/latest" target="_blank" class="download-card border border-black/10 rounded-lg p-3 sm:p-4 md:p-6 hover:border-black/30 transition-all hover-lift">
                    <div class="download-card-emoji">üêß</div>
                    <div class="download-card-title">Debian/Ubuntu</div>
                    <div class="download-card-subtitle">.deb (x64)</div>
                </a>

                <a id="download-linux-rpm" href="https://github.com/sleep3r/crispy/releases/latest" target="_blank" class="download-card border border-black/10 rounded-lg p-3 sm:p-4 md:p-6 hover:border-black/30 transition-all hover-lift">
                    <div class="download-card-emoji">ü¶ä</div>
                    <div class="download-card-title">Fedora</div>
                    <div class="download-card-subtitle">.rpm (x86_64)</div>
                </a>

                <a id="download-windows-x64" href="https://github.com/sleep3r/crispy/releases/latest" target="_blank" class="download-card border border-black/10 rounded-lg p-3 sm:p-4 md:p-6 hover:border-black/30 transition-all hover-lift">
                    <div class="download-card-emoji">ü™ü</div>
                    <div class="download-card-title">Windows</div>
                    <div class="download-card-subtitle">x64</div>
                </a>

                <a id="download-windows-arm" href="https://github.com/sleep3r/crispy/releases/latest" target="_blank" class="download-card border border-black/10 rounded-lg p-3 sm:p-4 md:p-6 hover:border-black/30 transition-all hover-lift">
                    <div class="download-card-emoji">ü™ü</div>
                    <div class="download-card-title">Windows</div>
                    <div class="download-card-subtitle">ARM64</div>
                </a>
            </div>

            <p class="text-xs sm:text-sm text-black/60 pt-4 px-4 sm:px-0">
                Or build from source: 
                <a href="https://github.com/sleep3r/crispy" class="underline hover:text-black transition-colors">GitHub Repository</a>
            </p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-black/10 mt-12 sm:mt-16 md:mt-24">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 py-8 sm:py-12">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <div class="text-xs sm:text-sm text-black/60">
                    Made with ‚ù§Ô∏è by the Crispy community
                </div>
                <div class="flex items-center gap-4 sm:gap-6 text-xs sm:text-sm">
                    <a href="https://github.com/sleep3r/crispy" target="_blank" class="text-black/60 hover:text-black transition-colors">
                        GitHub
                    </a>
                    <a href="https://github.com/sleep3r/crispy/issues" target="_blank" class="text-black/60 hover:text-black transition-colors">
                        Issues
                    </a>
                    <a href="https://github.com/sleep3r/crispy/blob/main/LICENSE" target="_blank" class="text-black/60 hover:text-black transition-colors">
                        MIT License
                    </a>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>
